{"ast":null,"code":"var _jsxFileName = \"/home/andi/Code/cv-booklet/src/Book.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router';\nimport Page from './pages/Page';\nimport Menu from './components/Menu';\nimport Toolkit from './utils/Toolkit';\nimport Config from './config/pageconfig.json';\nimport styles from './Book.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Book extends React.Component {\n  constructor(props) {\n    super(props);\n    this.numPages = 14;\n    this.numSites = 0;\n    this.activePageIndex = 0;\n    this.pageRefs = [];\n    this.prevDirectionUp = true;\n    this.animationActive = false;\n    this.numSites = Math.ceil(this.numPages / 2);\n  }\n\n  isAnimationActive() {\n    return this.pageRefs.some(page => page.isAnimationActive());\n  }\n\n  goToPageByUrl(url) {\n    if (url.indexOf('/') === 0) {\n      url = url.substr(1);\n    }\n\n    for (const [key, value] of Object.entries(Config.pages)) {\n      let int = null,\n          i = 0;\n      const pageIndex = parseInt(key, 10);\n      const numPages = Math.floor(pageIndex / 2);\n\n      if (int !== null || url !== value.url) {\n        continue;\n      }\n\n      int = setInterval(() => {\n        if (i < numPages) {\n          this.pageAnimation(i, false);\n          i++;\n        } else {\n          clearInterval(int);\n          int = null;\n          i = 0;\n        }\n      }, 300);\n      break;\n    }\n  }\n\n  componentDidMount() {\n    document.addEventListener('wheel', this.mousewheelHandler.bind(this));\n    this.goToPageByUrl(this.props.location.pathname);\n    this.props.history.listen(location => {\n      if (!location.autoChange && this.props.location.pathname !== location.pathname && !this.isAnimationActive()) {\n        this.goToPageByUrl(location.pathname);\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('wheel', this.mousewheelHandler.bind(this));\n  }\n\n  mousewheelHandler(e) {\n    let pageIndex = this.activePageIndex;\n    let directionUp = true;\n\n    if (e.deltaY < 0) {\n      if (pageIndex === 0) {\n        return;\n      }\n\n      directionUp = false;\n      pageIndex--;\n    } else if (pageIndex === this.numSites - 1) {\n      return;\n    }\n\n    if (!this.pageRefs[pageIndex]) {\n      return;\n    }\n\n    this.pageAnimation(pageIndex, this.prevDirectionUp !== directionUp, true);\n  }\n\n  pageAnimation(pageIndex, blockWhileActive, updateURL) {\n    if (!this.pageRefs[pageIndex]) {\n      console.error('page not set!');\n      return;\n    }\n\n    const page = this.pageRefs[pageIndex],\n          frontActive = page.isFrontActive(),\n          animationActive = this.isAnimationActive();\n\n    if (animationActive && blockWhileActive) {\n      return;\n    }\n\n    if (!frontActive) {\n      this.prevDirectionUp = false;\n      this.activePageIndex--;\n    } else {\n      this.prevDirectionUp = true;\n      this.activePageIndex++;\n    }\n\n    if (!animationActive && Toolkit.isFirefox()) {\n      for (let i = 0; i < this.pageRefs.length; i++) {\n        this.pageRefs[i].ref.current.style.display = '';\n      }\n    }\n\n    page.animate(page => {\n      if (!this.isAnimationActive()) {\n        if (updateURL) {\n          let pageNum = page.pageNum;\n\n          if (!page.isFrontActive()) {\n            pageNum++;\n          }\n\n          setUrlForPageNum(this.props.history, pageNum);\n        }\n        /**\n         * Firefox fix:\n         * z-order of pages broken when using z-index and transform-style \"preserve-3d\"\n         */\n\n\n        if (Toolkit.isFirefox()) {\n          for (let i = 0; i < this.pageRefs.length; i++) {\n            if (i !== this.activePageIndex - 1 && i !== this.activePageIndex) {\n              this.pageRefs[i].ref.current.style.display = 'none';\n            }\n          }\n        }\n      }\n    });\n  }\n\n  render() {\n    const pages = [];\n    const eventTagBlacklist = ['A'];\n\n    for (let i = 0; i < this.numSites; i++) {\n      const pageClickListener = e => {\n        const selection = document.getSelection();\n\n        if (selection.type === 'Range') {\n          return;\n        }\n\n        if (eventTagBlacklist.indexOf(e.target.tagName) === -1) {\n          this.pageAnimation(i, true, true);\n        }\n      };\n\n      pages.push( /*#__PURE__*/_jsxDEV(Page, {\n        numSites: this.numSites,\n        siteIndex: i,\n        ref: ref => {\n          this.pageRefs[i] = /*#__PURE__*/React.createRef();\n          this.pageRefs[i] = ref;\n        },\n        onPageClick: pageClickListener\n      }, `page-${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this));\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.contents,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.headline,\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: styles.title,\n            children: [\"Andreas Feuerstein\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 29\n            }, this), \"Softwareentwicklung\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.index,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Inhalte\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Menu, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }, this), pages]\n    }, void 0, true);\n  }\n\n}\n\nfunction setUrlForPageNum(history, pageNum) {\n  let currentChapter;\n\n  for (let i = 0; i <= pageNum; i++) {\n    if (Config.pages[i]) {\n      currentChapter = Config.pages[i];\n    }\n  }\n\n  if (currentChapter && currentChapter.url !== history.location.pathname) {\n    history.push({\n      pathname: currentChapter.url,\n      autoChange: true\n    });\n  }\n}\n\nexport default _c = withRouter(Book);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/andi/Code/cv-booklet/src/Book.js"],"names":["React","withRouter","Page","Menu","Toolkit","Config","styles","Book","Component","constructor","props","numPages","numSites","activePageIndex","pageRefs","prevDirectionUp","animationActive","Math","ceil","isAnimationActive","some","page","goToPageByUrl","url","indexOf","substr","key","value","Object","entries","pages","int","i","pageIndex","parseInt","floor","setInterval","pageAnimation","clearInterval","componentDidMount","document","addEventListener","mousewheelHandler","bind","location","pathname","history","listen","autoChange","componentWillUnmount","removeEventListener","e","directionUp","deltaY","blockWhileActive","updateURL","console","error","frontActive","isFrontActive","isFirefox","length","ref","current","style","display","animate","pageNum","setUrlForPageNum","render","eventTagBlacklist","pageClickListener","selection","getSelection","type","target","tagName","push","createRef","contents","headline","title","index","currentChapter"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,cAA3B;AAEA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AAEA,OAAOC,MAAP,MAAmB,0BAAnB;AAEA,OAAOC,MAAP,MAAmB,mBAAnB;;;;AAEA,MAAMC,IAAN,SAAmBP,KAAK,CAACQ,SAAzB,CAAmC;AAa/BC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AADe,SAZnBC,QAYmB,GAZR,EAYQ;AAAA,SAVnBC,QAUmB,GAVR,CAUQ;AAAA,SARnBC,eAQmB,GARD,CAQC;AAAA,SANnBC,QAMmB,GANR,EAMQ;AAAA,SAJnBC,eAImB,GAJD,IAIC;AAAA,SAFnBC,eAEmB,GAFD,KAEC;AAEf,SAAKJ,QAAL,GAAgBK,IAAI,CAACC,IAAL,CAAU,KAAKP,QAAL,GAAgB,CAA1B,CAAhB;AACH;;AAEDQ,EAAAA,iBAAiB,GAAG;AAChB,WAAO,KAAKL,QAAL,CAAcM,IAAd,CAAoBC,IAAD,IAAUA,IAAI,CAACF,iBAAL,EAA7B,CAAP;AACH;;AAEDG,EAAAA,aAAa,CAACC,GAAD,EAAM;AACf,QAAIA,GAAG,CAACC,OAAJ,CAAY,GAAZ,MAAqB,CAAzB,EAA4B;AACxBD,MAAAA,GAAG,GAAGA,GAAG,CAACE,MAAJ,CAAW,CAAX,CAAN;AACH;;AACD,SAAK,MAAM,CAACC,GAAD,EAAMC,KAAN,CAAX,IAA2BC,MAAM,CAACC,OAAP,CAAexB,MAAM,CAACyB,KAAtB,CAA3B,EAAyD;AACrD,UAAIC,GAAG,GAAG,IAAV;AAAA,UACIC,CAAC,GAAG,CADR;AAEA,YAAMC,SAAS,GAAGC,QAAQ,CAACR,GAAD,EAAM,EAAN,CAA1B;AACA,YAAMf,QAAQ,GAAGM,IAAI,CAACkB,KAAL,CAAWF,SAAS,GAAG,CAAvB,CAAjB;;AAEA,UAAIF,GAAG,KAAK,IAAR,IAAgBR,GAAG,KAAKI,KAAK,CAACJ,GAAlC,EAAuC;AACnC;AACH;;AAEDQ,MAAAA,GAAG,GAAGK,WAAW,CAAC,MAAM;AACpB,YAAIJ,CAAC,GAAGrB,QAAR,EAAkB;AACd,eAAK0B,aAAL,CAAmBL,CAAnB,EAAsB,KAAtB;AACAA,UAAAA,CAAC;AACJ,SAHD,MAGO;AACHM,UAAAA,aAAa,CAACP,GAAD,CAAb;AACAA,UAAAA,GAAG,GAAG,IAAN;AACAC,UAAAA,CAAC,GAAG,CAAJ;AACH;AACJ,OATgB,EASd,GATc,CAAjB;AAUA;AACH;AACJ;;AAEDO,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmC,KAAKC,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAnC;AACA,SAAKrB,aAAL,CAAmB,KAAKZ,KAAL,CAAWkC,QAAX,CAAoBC,QAAvC;AAEA,SAAKnC,KAAL,CAAWoC,OAAX,CAAmBC,MAAnB,CAA2BH,QAAD,IAAc;AACpC,UACI,CAACA,QAAQ,CAACI,UAAV,IACA,KAAKtC,KAAL,CAAWkC,QAAX,CAAoBC,QAApB,KAAiCD,QAAQ,CAACC,QAD1C,IAEA,CAAC,KAAK1B,iBAAL,EAHL,EAIE;AACE,aAAKG,aAAL,CAAmBsB,QAAQ,CAACC,QAA5B;AACH;AACJ,KARD;AASH;;AAEDI,EAAAA,oBAAoB,GAAG;AACnBT,IAAAA,QAAQ,CAACU,mBAAT,CACI,OADJ,EAEI,KAAKR,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAFJ;AAIH;;AAEDD,EAAAA,iBAAiB,CAACS,CAAD,EAAI;AACjB,QAAIlB,SAAS,GAAG,KAAKpB,eAArB;AACA,QAAIuC,WAAW,GAAG,IAAlB;;AACA,QAAID,CAAC,CAACE,MAAF,GAAW,CAAf,EAAkB;AACd,UAAIpB,SAAS,KAAK,CAAlB,EAAqB;AACjB;AACH;;AACDmB,MAAAA,WAAW,GAAG,KAAd;AACAnB,MAAAA,SAAS;AACZ,KAND,MAMO,IAAIA,SAAS,KAAK,KAAKrB,QAAL,GAAgB,CAAlC,EAAqC;AACxC;AACH;;AAED,QAAI,CAAC,KAAKE,QAAL,CAAcmB,SAAd,CAAL,EAA+B;AAC3B;AACH;;AAED,SAAKI,aAAL,CACIJ,SADJ,EAEI,KAAKlB,eAAL,KAAyBqC,WAF7B,EAGI,IAHJ;AAKH;;AAEDf,EAAAA,aAAa,CAACJ,SAAD,EAAYqB,gBAAZ,EAA8BC,SAA9B,EAAyC;AAClD,QAAI,CAAC,KAAKzC,QAAL,CAAcmB,SAAd,CAAL,EAA+B;AAC3BuB,MAAAA,OAAO,CAACC,KAAR,CAAc,eAAd;AACA;AACH;;AACD,UAAMpC,IAAI,GAAG,KAAKP,QAAL,CAAcmB,SAAd,CAAb;AAAA,UACIyB,WAAW,GAAGrC,IAAI,CAACsC,aAAL,EADlB;AAAA,UAEI3C,eAAe,GAAG,KAAKG,iBAAL,EAFtB;;AAIA,QAAIH,eAAe,IAAIsC,gBAAvB,EAAyC;AACrC;AACH;;AAED,QAAI,CAACI,WAAL,EAAkB;AACd,WAAK3C,eAAL,GAAuB,KAAvB;AACA,WAAKF,eAAL;AACH,KAHD,MAGO;AACH,WAAKE,eAAL,GAAuB,IAAvB;AACA,WAAKF,eAAL;AACH;;AAED,QAAI,CAACG,eAAD,IAAoBZ,OAAO,CAACwD,SAAR,EAAxB,EAA6C;AACzC,WAAK,IAAI5B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKlB,QAAL,CAAc+C,MAAlC,EAA0C7B,CAAC,EAA3C,EAA+C;AAC3C,aAAKlB,QAAL,CAAckB,CAAd,EAAiB8B,GAAjB,CAAqBC,OAArB,CAA6BC,KAA7B,CAAmCC,OAAnC,GAA6C,EAA7C;AACH;AACJ;;AAED5C,IAAAA,IAAI,CAAC6C,OAAL,CAAc7C,IAAD,IAAU;AACnB,UAAI,CAAC,KAAKF,iBAAL,EAAL,EAA+B;AAE3B,YAAIoC,SAAJ,EAAe;AACX,cAAIY,OAAO,GAAG9C,IAAI,CAAC8C,OAAnB;;AACA,cAAI,CAAC9C,IAAI,CAACsC,aAAL,EAAL,EAA2B;AACvBQ,YAAAA,OAAO;AACV;;AACDC,UAAAA,gBAAgB,CAAC,KAAK1D,KAAL,CAAWoC,OAAZ,EAAqBqB,OAArB,CAAhB;AACH;AAED;AAChB;AACA;AACA;;;AACgB,YAAI/D,OAAO,CAACwD,SAAR,EAAJ,EAAyB;AACrB,eAAK,IAAI5B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKlB,QAAL,CAAc+C,MAAlC,EAA0C7B,CAAC,EAA3C,EAA+C;AAC3C,gBACIA,CAAC,KAAK,KAAKnB,eAAL,GAAuB,CAA7B,IACAmB,CAAC,KAAK,KAAKnB,eAFf,EAGE;AACE,mBAAKC,QAAL,CAAckB,CAAd,EAAiB8B,GAAjB,CAAqBC,OAArB,CAA6BC,KAA7B,CAAmCC,OAAnC,GAA6C,MAA7C;AACH;AACJ;AACJ;AACJ;AACJ,KA1BD;AA2BH;;AAEDI,EAAAA,MAAM,GAAG;AACL,UAAMvC,KAAK,GAAG,EAAd;AACA,UAAMwC,iBAAiB,GAAG,CAAC,GAAD,CAA1B;;AACA,SAAK,IAAItC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKpB,QAAzB,EAAmCoB,CAAC,EAApC,EAAwC;AACpC,YAAMuC,iBAAiB,GAAIpB,CAAD,IAAO;AAC7B,cAAMqB,SAAS,GAAGhC,QAAQ,CAACiC,YAAT,EAAlB;;AACA,YAAID,SAAS,CAACE,IAAV,KAAmB,OAAvB,EAAgC;AAC5B;AACH;;AAED,YAAIJ,iBAAiB,CAAC9C,OAAlB,CAA0B2B,CAAC,CAACwB,MAAF,CAASC,OAAnC,MAAgD,CAAC,CAArD,EAAwD;AACpD,eAAKvC,aAAL,CAAmBL,CAAnB,EAAsB,IAAtB,EAA4B,IAA5B;AACH;AACJ,OATD;;AAWAF,MAAAA,KAAK,CAAC+C,IAAN,eACI,QAAC,IAAD;AAEI,QAAA,QAAQ,EAAE,KAAKjE,QAFnB;AAGI,QAAA,SAAS,EAAEoB,CAHf;AAII,QAAA,GAAG,EAAG8B,GAAD,IAAS;AACV,eAAKhD,QAAL,CAAckB,CAAd,iBAAmBhC,KAAK,CAAC8E,SAAN,EAAnB;AACA,eAAKhE,QAAL,CAAckB,CAAd,IAAmB8B,GAAnB;AACH,SAPL;AAQI,QAAA,WAAW,EAAES;AARjB,SACU,QAAOvC,CAAE,EADnB;AAAA;AAAA;AAAA;AAAA,cADJ;AAYH;;AAED,wBACI;AAAA,8BACI;AAAK,QAAA,SAAS,EAAE1B,MAAM,CAACyE,QAAvB;AAAA,gCACI;AAAK,UAAA,SAAS,EAAEzE,MAAM,CAAC0E,QAAvB;AAAA,iCACI;AAAI,YAAA,SAAS,EAAE1E,MAAM,CAAC2E,KAAtB;AAAA,0DAEI;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADJ,eAQI;AAAK,UAAA,SAAS,EAAE3E,MAAM,CAAC4E,KAAvB;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBARJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAcKpD,KAdL;AAAA,oBADJ;AAkBH;;AAvM8B;;AA0MnC,SAASsC,gBAAT,CAA0BtB,OAA1B,EAAmCqB,OAAnC,EAA4C;AACxC,MAAIgB,cAAJ;;AACA,OAAK,IAAInD,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAImC,OAArB,EAA8BnC,CAAC,EAA/B,EAAmC;AAC/B,QAAI3B,MAAM,CAACyB,KAAP,CAAaE,CAAb,CAAJ,EAAqB;AACjBmD,MAAAA,cAAc,GAAG9E,MAAM,CAACyB,KAAP,CAAaE,CAAb,CAAjB;AACH;AACJ;;AAED,MAAImD,cAAc,IAAIA,cAAc,CAAC5D,GAAf,KAAuBuB,OAAO,CAACF,QAAR,CAAiBC,QAA9D,EAAwE;AACpEC,IAAAA,OAAO,CAAC+B,IAAR,CAAa;AACThC,MAAAA,QAAQ,EAAEsC,cAAc,CAAC5D,GADhB;AAETyB,MAAAA,UAAU,EAAE;AAFH,KAAb;AAIH;AACJ;;AAED,oBAAe/C,UAAU,CAACM,IAAD,CAAzB","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router';\n\nimport Page from './pages/Page';\nimport Menu from './components/Menu';\nimport Toolkit from './utils/Toolkit';\n\nimport Config from './config/pageconfig.json';\n\nimport styles from './Book.module.css';\n\nclass Book extends React.Component {\n    numPages = 14;\n\n    numSites = 0;\n\n    activePageIndex = 0;\n\n    pageRefs = [];\n\n    prevDirectionUp = true;\n\n    animationActive = false;\n\n    constructor(props) {\n        super(props);\n        this.numSites = Math.ceil(this.numPages / 2);\n    }\n\n    isAnimationActive() {\n        return this.pageRefs.some((page) => page.isAnimationActive());\n    }\n\n    goToPageByUrl(url) {\n        if (url.indexOf('/') === 0) {\n            url = url.substr(1);\n        }\n        for (const [key, value] of Object.entries(Config.pages)) {\n            let int = null,\n                i = 0;\n            const pageIndex = parseInt(key, 10);\n            const numPages = Math.floor(pageIndex / 2);\n\n            if (int !== null || url !== value.url) {\n                continue;\n            }\n\n            int = setInterval(() => {\n                if (i < numPages) {\n                    this.pageAnimation(i, false);\n                    i++;\n                } else {\n                    clearInterval(int);\n                    int = null;\n                    i = 0;\n                }\n            }, 300);\n            break;\n        }\n    }\n\n    componentDidMount() {\n        document.addEventListener('wheel', this.mousewheelHandler.bind(this));\n        this.goToPageByUrl(this.props.location.pathname);\n\n        this.props.history.listen((location) => {\n            if (\n                !location.autoChange &&\n                this.props.location.pathname !== location.pathname &&\n                !this.isAnimationActive()\n            ) {\n                this.goToPageByUrl(location.pathname);\n            }\n        });\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener(\n            'wheel',\n            this.mousewheelHandler.bind(this)\n        );\n    }\n\n    mousewheelHandler(e) {\n        let pageIndex = this.activePageIndex;\n        let directionUp = true;\n        if (e.deltaY < 0) {\n            if (pageIndex === 0) {\n                return;\n            }\n            directionUp = false;\n            pageIndex--;\n        } else if (pageIndex === this.numSites - 1) {\n            return;\n        }\n\n        if (!this.pageRefs[pageIndex]) {\n            return;\n        }\n\n        this.pageAnimation(\n            pageIndex,\n            this.prevDirectionUp !== directionUp,\n            true\n        );\n    }\n\n    pageAnimation(pageIndex, blockWhileActive, updateURL) {\n        if (!this.pageRefs[pageIndex]) {\n            console.error('page not set!');\n            return;\n        }\n        const page = this.pageRefs[pageIndex],\n            frontActive = page.isFrontActive(),\n            animationActive = this.isAnimationActive();\n\n        if (animationActive && blockWhileActive) {\n            return;\n        }\n\n        if (!frontActive) {\n            this.prevDirectionUp = false;\n            this.activePageIndex--;\n        } else {\n            this.prevDirectionUp = true;\n            this.activePageIndex++;\n        }\n\n        if (!animationActive && Toolkit.isFirefox()) {\n            for (let i = 0; i < this.pageRefs.length; i++) {\n                this.pageRefs[i].ref.current.style.display = '';\n            }\n        }\n\n        page.animate((page) => {\n            if (!this.isAnimationActive()) {\n\n                if (updateURL) {\n                    let pageNum = page.pageNum;\n                    if (!page.isFrontActive()) {\n                        pageNum++;\n                    }\n                    setUrlForPageNum(this.props.history, pageNum);\n                }\n\n                /**\n                 * Firefox fix:\n                 * z-order of pages broken when using z-index and transform-style \"preserve-3d\"\n                 */\n                if (Toolkit.isFirefox()) {\n                    for (let i = 0; i < this.pageRefs.length; i++) {\n                        if (\n                            i !== this.activePageIndex - 1 &&\n                            i !== this.activePageIndex\n                        ) {\n                            this.pageRefs[i].ref.current.style.display = 'none';\n                        }\n                    }\n                }\n            }\n        });\n    }\n\n    render() {\n        const pages = [];\n        const eventTagBlacklist = ['A'];\n        for (let i = 0; i < this.numSites; i++) {\n            const pageClickListener = (e) => {\n                const selection = document.getSelection();\n                if (selection.type === 'Range') {\n                    return;\n                }\n\n                if (eventTagBlacklist.indexOf(e.target.tagName) === -1) {\n                    this.pageAnimation(i, true, true);\n                }\n            };\n\n            pages.push(\n                <Page\n                    key={`page-${i}`}\n                    numSites={this.numSites}\n                    siteIndex={i}\n                    ref={(ref) => {\n                        this.pageRefs[i] = React.createRef();\n                        this.pageRefs[i] = ref;\n                    }}\n                    onPageClick={pageClickListener}\n                />\n            );\n        }\n\n        return (\n            <>\n                <div className={styles.contents}>\n                    <div className={styles.headline}>\n                        <h1 className={styles.title}>\n                            Andreas Feuerstein\n                            <br />\n                            Softwareentwicklung\n                        </h1>\n                    </div>\n                    <div className={styles.index}>\n                        <h2>Inhalte</h2>\n                        <Menu />\n                    </div>\n                </div>\n                {pages}\n            </>\n        );\n    }\n}\n\nfunction setUrlForPageNum(history, pageNum) {\n    let currentChapter;\n    for (let i = 0; i <= pageNum; i++) {\n        if (Config.pages[i]) {\n            currentChapter = Config.pages[i];\n        }\n    }\n\n    if (currentChapter && currentChapter.url !== history.location.pathname) {\n        history.push({\n            pathname: currentChapter.url,\n            autoChange: true,\n        });\n    }\n}\n\nexport default withRouter(Book);\n"]},"metadata":{},"sourceType":"module"}